<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>method</key>
    <string>{{ cookiecutter.ios_export_method }}</string>
    <key>provisioningProfiles</key>
    <dict>
        <key>{{ cookiecutter.bundle_id }}</key>
        <string>{{ cookiecutter.ios_provisioning_profile }}</string>
    </dict>

    {% if cookiecutter.ios_team_id %}
    <key>teamID</key>
    <string>{{ cookiecutter.ios_team_id }}</string>
    {% endif %}

    {% if cookiecutter.ios_signing_certificate %}
    <key>signingCertificate</key>
    <string>{{ cookiecutter.ios_signing_certificate }}</string>
    {% endif %}

    {% macro render_dict(d) -%}
    {% for key, value in d.items() -%}
    <key>{{ key }}</key>
    {% if value is string -%}
    <string>{{ value }}</string>
    {% elif value is boolean -%}
    <{{ "true" if value else "false" }}/>
    {% elif value is mapping -%}
    <dict>
        {{ render_dict(value) }}
    </dict>
    {% elif value is sequence -%}  {# Support for lists/arrays #}
    <array>
        {% for item in value -%}
            {% if item is string -%}
            <string>{{ item }}</string>
            {% elif item is boolean -%}
            <{{ "true" if item else "false" }}/>
            {% elif item is mapping -%}
            <dict>
                {{ render_dict(item) }}
            </dict>
            {% endif -%}
        {% endfor -%}
    </array>
    {% endif -%}
    {% endfor -%}
    {% endmacro -%}
    {{ render_dict(cookiecutter.ios_export_options) }}
</dict>
</plist>